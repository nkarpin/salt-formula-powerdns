{%- from "powerdns/map.jinja" import server with context %}
# Autogenerated configuration file template
allow-axfr-ips={{ server.axfr_ips|join(',') }}
allow-recursion=127.0.0.1
{%- if server.api.enabled %}
api-key={{ server.api.key }}
api=yes
{%- endif %}
config-dir=/etc/powerdns
daemon=yes
default-soa-name={{ server.default_soa_name }}
disable-axfr=no
guardian=yes
include-dir=/etc/powerdns/pdns.d
launch=
local-address={{ server.bind.address }}
local-port={{ server.bind.port }}
master=no
setgid=pdns
setuid=pdns
slave=yes
soa-minimum-ttl={{ server.soa_minimum_ttl }}
socket-dir=/var/run
version-string={{ server.version_string }}
{%- if server.webserver.enabled %}
webserver=yes
webserver-address={{ server.webserver.address }}
webserver-password={{ server.webserver.password }}
webserver-port={{ server.webserver.port }}
{%- endif %}
